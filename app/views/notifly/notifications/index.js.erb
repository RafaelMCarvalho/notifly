<%
  rendered_notifications = render partial: 'notifly/layouts/index',
    locals: { notifications: @notifications }

  notifications_pages = { pages: @notifications.current_page }
  rendered_header_actions = link_to 'Mark as read', read_specific_notifications_path(notifications_pages),
    remote: true, method: :post

  rendered_footer = render partial: 'notifly/layouts/footer',
    locals: { notifications: @notifications }
%>

$('#notifly-header-actions').html("<%= escape_javascript rendered_header_actions %>");

$('#notifly-notifications-content .loading').remove();
$('#notifly-notifications-content').append("<%= escape_javascript rendered_notifications %>");
$('#notifly-notifications-footer').html("<%= escape_javascript rendered_footer %>");
